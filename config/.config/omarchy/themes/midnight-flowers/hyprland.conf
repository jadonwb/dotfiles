$activeBorderColor = rgb(4541e1)

# ────────────────────────────────────────────────────────────
# Omarchy Theme for Hyprland - GTK Color Match
# ────────────────────────────────────────────────────────────

general {
    col.active_border = $activeBorderColor
    col.inactive_border = rgb(160D16) 
    border_size = 2
    gaps_in = 2
    gaps_out = 4
}

animations {
    enabled = yes
    bezier = calm, 0.25, 0.9, 0.35, 1

    animation = windows,     1, 4, calm
    animation = windowsIn,   1, 4, calm
    animation = windowsOut,  1, 3, calm
    animation = windowsMove, 1, 4, calm

    animation = fade,        1, 3, calm
    animation = fadeIn,      1, 3, calm
    animation = fadeOut,     1, 2, calm

    animation = layers,      1, 3, calm
    animation = layersIn,    1, 3, calm
    animation = layersOut,   1, 2, calm

    animation = workspaces,  1, 4, calm
}

decoration {
    rounding = 14
    shadow {
        enabled = true
        range = 15
        render_power = 5
        color = rgba(160D16ee) 
        offset = 0 0
    } 
    
    blur {
        enabled = true
        size = 1          
        passes = 4
        contrast = 1.1
        brightness = 1.1
        vibrancy = 0.2    
        vibrancy_darkness = 0.2
        noise = 0.03      
        ignore_opacity = true
        new_optimizations = on
    }
    
    active_opacity = 0.93
    inactive_opacity = 0.92
    fullscreen_opacity = 1.0 
}

# ────────────────────────────────────────────────────────────
# Ghostty Size & Position Fix (Corrected Syntax)
# ────────────────────────────────────────────────────────────
# Fixes "Invalid parameters" error bar by using windowrulev2
windowrule {
  name = windowrule-1
  min_size = 960 640
  center = on
  match:class = ^(com.mitchellh.ghostty)$
}

# ────────────────────────────────────────────────────────────
# Blur & Layer Rules
# ────────────────────────────────────────────────────────────
layerrule {
  name = layerrule-1
  blur = on
  ignore_alpha = 0
  match:namespace = walker
}

layerrule {
  name = layerrule-2
  blur = on
  ignore_alpha = 0.1
  match:namespace = waybar
}

layerrule {
  name = layerrule-3
  blur = on
  ignore_alpha = 0
  match:namespace = notifications
}

layerrule {
  name = layerrule-5
  blur = on
  match:namespace = swayosd
}
